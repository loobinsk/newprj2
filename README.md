## Администрирование

Интерфейс администрирования сайта находится по адресу: http://www.mandarin.one/engine2/admin/
Вы можете добавить суперпользователя из консоли командой из директории проекта:

```console
venv/bin/python src/manage.py createsuperuser
```

## Разработка

### Быстрый старт разработки 

Далее инструкция для разработчка для установки и настройки сайта локально.
Внимание! программа установки удалит старую базу данных со всеми данными.

Установка проекта:

```console
git clone https://rown@bitbucket.org/rown/www.mandarin.one.git
cd www.mandarin.one
./install.sh
```

### Информация по директориям

```console
~/conf/ - Конфигурационные файлы
~/data/ - Набор тестовых данных для разработки
~/media/ - Загруженные пользователям картинки и другие медиа данные, там же храняться и кешированные картинки
~/media/public/ - Здесь файлы, загружаемые в менеджере файлов
~/media/public/root/ - Здесь файлы, загружаемые в корень сайта например /robots.txt или /faveicon.ico
~/src/ - Исходники сайта
~/static/ - Статичные файлы проекта, собираются командой manage.py collectstatic, вручную эту директорию править нельзя
~/venv/ - Virtualenv пакеты питона
```


### Команды

```console
supervisorctl restart www.mandarin.one - Рестрарт проекта
supervisorctl restart www.mandarin.one_celery - Рестрарт celery
./dump.sh - Делает дамп всех данных сайта (бд, картинок и т.д.)
./install.sh - Инсталлирует или Реинсталлирует проект (при реинсталляции отменяются все изменения, в том числе в БД) Нужна для разворачивая на сервере разработчика.
./deploy.sh - Применяет все изменения, git, бд, статичные файлы и рестартит проект
python src/manage.py synctpls - Синхронизирует шаблоны страниц с базой данных
python src/manage.py syncprefs - Синхронизирует настройки с базой данных
python src/manage.py syncmodules - Синхронизирует модули с базой данных
```